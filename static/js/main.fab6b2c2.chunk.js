(this["webpackJsonpreact-first"]=this["webpackJsonpreact-first"]||[]).push([[0],{119:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return o}));var r=n(37),a=n(3),s="SEND_MESSAGE",i={sendersData:[{id:1,name:"Saber",avatar:"https://sun9-38.userapi.com/impg/3qV6CsDQFrvAyuxIjVaS0byAvupKqPeoedq9rA/vh5FmTbwXqI.jpg?size=1077x1080&quality=96&sign=2d6c44aac83eff97da8a839437f223e5&type=album"},{id:2,name:"Reechka",avatar:"https://sun9-60.userapi.com/impg/S26Ob2ZUtOe969MNMNA-YfTkvBEPX4rCLM2ppQ/9h9QPrUTWOc.jpg?size=1080x1035&quality=96&sign=0315f01c9fda4ba66c5ffdc1df62200a&type=album"},{id:3,name:"Gats",avatar:"https://sun9-27.userapi.com/impg/c857036/v857036066/17d27d/yT-CcAdWjDs.jpg?size=620x630&quality=96&sign=4a3eb8f6659a7a18cb37e3a4790f7a67&type=album"},{id:4,name:"Archer",avatar:"https://sun9-68.userapi.com/impg/12EYl0H74Hwiw95LDIs7HfrcsBva63QR2xf3aw/laaW_OYil8I.jpg?size=627x564&quality=96&sign=66c38dbd91ea9d142994527ecfeb7d29&type=album"},{id:5,name:"Kaworu",avatar:"https://sun9-46.userapi.com/impf/_43O2WhGHD4dliGJDBcN1Dux9S_WdBsNCeXEGQ/ZOFx1FsBQV0.jpg?size=500x500&quality=96&sign=408e9ffa797e0b951fd90645bc0f8950&type=album"}],messagesData:[{id:1,senderId:0,receiverId:1,text:"\u0412\u044b \u0432\u043d\u043e\u0432\u044c \u0441\u043e \u043c\u043d\u043e\u0439, \u0442\u0443\u043c\u0430\u043d\u043d\u044b\u0435 \u0432\u0438\u0434\u0435\u043d\u044c\u044f, \u043c\u043d\u0435 \u0432 \u044e\u043d\u043e\u0441\u0442\u0438 \u043c\u0435\u043b\u044c\u043a\u043d\u0443\u0432\u0448\u0438\u0435 \u0434\u0430\u0432\u043d\u043e. \u0412\u0430\u0441 \u043b\u044c \u0443\u0434\u0435\u0440\u0436\u0443 \u0432\u043e \u0432\u043b\u0430\u0441\u0442\u0438 \u0432\u0434\u043e\u0445\u043d\u043e\u0432\u0435\u043d\u044c\u044f, \u0431\u044b\u043b\u044b\u043c \u043b\u0438 \u0441\u043d\u0430\u043c \u044f\u0432\u0438\u0442\u044c\u0441\u044f \u0432\u043d\u043e\u0432\u044c \u0434\u0430\u043d\u043e. \u0418\u0437 \u0441\u0443\u043c\u0440\u0430\u043a\u0430, \u0438\u0437 \u0442\u044c\u043c\u044b \u043f\u043e\u043b\u0443\u0437\u0430\u0431\u0432\u0435\u043d\u043d\u043e\u0439 \u0432\u043e\u0441\u0441\u0442\u0430\u043b\u0438 \u0432\u044b. \u041e, \u0431\u0443\u0434\u044c \u0447\u0442\u043e \u0441\u0443\u0436\u0434\u0435\u043d\u043e"},{id:2,senderId:1,receiverId:0,text:"I am the bone of my sword"},{id:3,senderId:0,receiverId:1,text:"Steel is my body and fire is my blood"},{id:4,senderId:0,receiverId:1,text:"I have created over a thouthands blades"},{id:5,senderId:1,receiverId:0,text:"Unknow to death"},{id:6,senderId:1,receiverId:0,text:"Not know to life"},{id:1,senderId:0,receiverId:1,text:"\u0412\u044b \u0432\u043d\u043e\u0432\u044c \u0441\u043e \u043c\u043d\u043e\u0439, \u0442\u0443\u043c\u0430\u043d\u043d\u044b\u0435 \u0432\u0438\u0434\u0435\u043d\u044c\u044f, \u043c\u043d\u0435 \u0432 \u044e\u043d\u043e\u0441\u0442\u0438 \u043c\u0435\u043b\u044c\u043a\u043d\u0443\u0432\u0448\u0438\u0435 \u0434\u0430\u0432\u043d\u043e. \u0412\u0430\u0441 \u043b\u044c \u0443\u0434\u0435\u0440\u0436\u0443 \u0432\u043e \u0432\u043b\u0430\u0441\u0442\u0438 \u0432\u0434\u043e\u0445\u043d\u043e\u0432\u0435\u043d\u044c\u044f, \u0431\u044b\u043b\u044b\u043c \u043b\u0438 \u0441\u043d\u0430\u043c \u044f\u0432\u0438\u0442\u044c\u0441\u044f \u0432\u043d\u043e\u0432\u044c \u0434\u0430\u043d\u043e. \u0418\u0437 \u0441\u0443\u043c\u0440\u0430\u043a\u0430, \u0438\u0437 \u0442\u044c\u043c\u044b \u043f\u043e\u043b\u0443\u0437\u0430\u0431\u0432\u0435\u043d\u043d\u043e\u0439 \u0432\u043e\u0441\u0441\u0442\u0430\u043b\u0438 \u0432\u044b. \u041e, \u0431\u0443\u0434\u044c \u0447\u0442\u043e \u0441\u0443\u0436\u0434\u0435\u043d\u043e"},{id:2,senderId:1,receiverId:0,text:"I am the bone of my sword"},{id:3,senderId:0,receiverId:1,text:"Steel is my body and fire is my blood"},{id:4,senderId:0,receiverId:1,text:"I have created over a thouthands blades"},{id:5,senderId:1,receiverId:0,text:"Unknow to death"},{id:6,senderId:1,receiverId:0,text:"Not know to life"},{id:1,senderId:0,receiverId:1,text:"\u0412\u044b \u0432\u043d\u043e\u0432\u044c \u0441\u043e \u043c\u043d\u043e\u0439, \u0442\u0443\u043c\u0430\u043d\u043d\u044b\u0435 \u0432\u0438\u0434\u0435\u043d\u044c\u044f, \u043c\u043d\u0435 \u0432 \u044e\u043d\u043e\u0441\u0442\u0438 \u043c\u0435\u043b\u044c\u043a\u043d\u0443\u0432\u0448\u0438\u0435 \u0434\u0430\u0432\u043d\u043e. \u0412\u0430\u0441 \u043b\u044c \u0443\u0434\u0435\u0440\u0436\u0443 \u0432\u043e \u0432\u043b\u0430\u0441\u0442\u0438 \u0432\u0434\u043e\u0445\u043d\u043e\u0432\u0435\u043d\u044c\u044f, \u0431\u044b\u043b\u044b\u043c \u043b\u0438 \u0441\u043d\u0430\u043c \u044f\u0432\u0438\u0442\u044c\u0441\u044f \u0432\u043d\u043e\u0432\u044c \u0434\u0430\u043d\u043e. \u0418\u0437 \u0441\u0443\u043c\u0440\u0430\u043a\u0430, \u0438\u0437 \u0442\u044c\u043c\u044b \u043f\u043e\u043b\u0443\u0437\u0430\u0431\u0432\u0435\u043d\u043d\u043e\u0439 \u0432\u043e\u0441\u0441\u0442\u0430\u043b\u0438 \u0432\u044b. \u041e, \u0431\u0443\u0434\u044c \u0447\u0442\u043e \u0441\u0443\u0436\u0434\u0435\u043d\u043e"},{id:2,senderId:1,receiverId:0,text:"I am the bone of my sword"},{id:3,senderId:0,receiverId:1,text:"Steel is my body and fire is my blood"},{id:4,senderId:0,receiverId:1,text:"I have created over a thouthands blades"},{id:5,senderId:1,receiverId:0,text:"Unknow to death"},{id:6,senderId:1,receiverId:0,text:"Not know to life"},{id:1,senderId:0,receiverId:1,text:"\u0412\u044b \u0432\u043d\u043e\u0432\u044c \u0441\u043e \u043c\u043d\u043e\u0439, \u0442\u0443\u043c\u0430\u043d\u043d\u044b\u0435 \u0432\u0438\u0434\u0435\u043d\u044c\u044f, \u043c\u043d\u0435 \u0432 \u044e\u043d\u043e\u0441\u0442\u0438 \u043c\u0435\u043b\u044c\u043a\u043d\u0443\u0432\u0448\u0438\u0435 \u0434\u0430\u0432\u043d\u043e. \u0412\u0430\u0441 \u043b\u044c \u0443\u0434\u0435\u0440\u0436\u0443 \u0432\u043e \u0432\u043b\u0430\u0441\u0442\u0438 \u0432\u0434\u043e\u0445\u043d\u043e\u0432\u0435\u043d\u044c\u044f, \u0431\u044b\u043b\u044b\u043c \u043b\u0438 \u0441\u043d\u0430\u043c \u044f\u0432\u0438\u0442\u044c\u0441\u044f \u0432\u043d\u043e\u0432\u044c \u0434\u0430\u043d\u043e. \u0418\u0437 \u0441\u0443\u043c\u0440\u0430\u043a\u0430, \u0438\u0437 \u0442\u044c\u043c\u044b \u043f\u043e\u043b\u0443\u0437\u0430\u0431\u0432\u0435\u043d\u043d\u043e\u0439 \u0432\u043e\u0441\u0441\u0442\u0430\u043b\u0438 \u0432\u044b. \u041e, \u0431\u0443\u0434\u044c \u0447\u0442\u043e \u0441\u0443\u0436\u0434\u0435\u043d\u043e"},{id:2,senderId:1,receiverId:0,text:"I am the bone of my sword"},{id:3,senderId:0,receiverId:1,text:"Steel is my body and fire is my blood"},{id:4,senderId:0,receiverId:1,text:"I have created over a thouthands blades"},{id:5,senderId:1,receiverId:0,text:"Unknow to death"},{id:6,senderId:1,receiverId:0,text:"Not know to life"},{id:1,senderId:0,receiverId:1,text:"\u0412\u044b \u0432\u043d\u043e\u0432\u044c \u0441\u043e \u043c\u043d\u043e\u0439, \u0442\u0443\u043c\u0430\u043d\u043d\u044b\u0435 \u0432\u0438\u0434\u0435\u043d\u044c\u044f, \u043c\u043d\u0435 \u0432 \u044e\u043d\u043e\u0441\u0442\u0438 \u043c\u0435\u043b\u044c\u043a\u043d\u0443\u0432\u0448\u0438\u0435 \u0434\u0430\u0432\u043d\u043e. \u0412\u0430\u0441 \u043b\u044c \u0443\u0434\u0435\u0440\u0436\u0443 \u0432\u043e \u0432\u043b\u0430\u0441\u0442\u0438 \u0432\u0434\u043e\u0445\u043d\u043e\u0432\u0435\u043d\u044c\u044f, \u0431\u044b\u043b\u044b\u043c \u043b\u0438 \u0441\u043d\u0430\u043c \u044f\u0432\u0438\u0442\u044c\u0441\u044f \u0432\u043d\u043e\u0432\u044c \u0434\u0430\u043d\u043e. \u0418\u0437 \u0441\u0443\u043c\u0440\u0430\u043a\u0430, \u0438\u0437 \u0442\u044c\u043c\u044b \u043f\u043e\u043b\u0443\u0437\u0430\u0431\u0432\u0435\u043d\u043d\u043e\u0439 \u0432\u043e\u0441\u0441\u0442\u0430\u043b\u0438 \u0432\u044b. \u041e, \u0431\u0443\u0434\u044c \u0447\u0442\u043e \u0441\u0443\u0436\u0434\u0435\u043d\u043e"},{id:2,senderId:1,receiverId:0,text:"I am the bone of my sword"},{id:3,senderId:0,receiverId:1,text:"Steel is my body and fire is my blood"},{id:4,senderId:0,receiverId:1,text:"I have created over a thouthands blades"},{id:5,senderId:1,receiverId:0,text:"Unknow to death"},{id:6,senderId:1,receiverId:0,text:"Not know to life"}]},c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s:return Object(a.a)(Object(a.a)({},e),{},{messagesData:[].concat(Object(r.a)(e.messagesData),[{id:2,sender:1,receiver:0,text:t.message}])});default:return e}},o=function(e){return{type:s,message:e}}},122:function(e,t,n){e.exports={preloader:"Preloader_preloader__1LPJL",rotate:"Preloader_rotate__3YmdL"}},123:function(e,t,n){e.exports={button:"Button_button__1JVR3"}},125:function(e,t,n){e.exports={post:"Post_post__23xAg"}},126:function(e,t,n){e.exports={friend:"Friend_friend__2Yc6I"}},138:function(e,t,n){},139:function(e,t,n){},16:function(e,t,n){"use strict";var r=n(123),a=n.n(r),s=n(0);t.a=function(e){return Object(s.jsx)("button",{onClick:e.onClick,className:a.a.button,children:e.text})}},261:function(e,t,n){},262:function(e,t,n){},263:function(e,t,n){},264:function(e,t,n){},265:function(e,t,n){},266:function(e,t,n){},267:function(e,t,n){"use strict";n.r(t);var r,a=n(1),s=n.n(a),i=n(56),c=n.n(i),o=(n(138),n(32)),u=n(33),d=n(38),l=n(36),f=(n(139),n(13)),p=n(28),j=n.n(p),b=n(0),h=function(){return Object(b.jsx)("nav",{children:Object(b.jsxs)("ul",{children:[Object(b.jsx)("li",{children:Object(b.jsx)(f.b,{to:"/profile",activeClassName:j.a.active,children:"Profile"})}),Object(b.jsx)("li",{children:Object(b.jsx)(f.b,{to:"/dialogs",activeClassName:j.a.active,children:"Dialogs"})}),Object(b.jsx)("li",{children:Object(b.jsx)(f.b,{to:"/users",activeClassName:j.a.active,children:"Users"})}),Object(b.jsx)("li",{children:Object(b.jsx)(f.b,{to:"/news",activeClassName:j.a.active,children:"News"})}),Object(b.jsx)("li",{children:Object(b.jsx)(f.b,{to:"/friends",activeClassName:j.a.active,children:"Friends"})}),Object(b.jsx)("li",{children:Object(b.jsx)(f.b,{to:"/music",activeClassName:j.a.active,children:"Music"})}),Object(b.jsx)("li",{children:Object(b.jsx)(f.b,{to:"/settings",activeClassName:j.a.active,children:"Settings"})})]})})},O=n(11),x=n(9),g=n(10),m=n.n(g),v=n(19),I=n(37),w=n(3),y=n(121),_=n.n(y);!function(e){e[e.Success=0]="Success",e[e.Error=1]="Error"}(r||(r={}));var S,N=_.a.create({baseURL:"https://social-network.samuraijs.com/api/1.0/",withCredentials:!0,headers:{"API-KEY":"a1d94230-84f9-401a-8547-9f4808e1cd45"}}),C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return N.get("users?count=".concat(e,"&page=").concat(t)).then((function(e){return e.data}))},P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return N.get("users?count=".concat(e,"&page=1&term=").concat(t)).then((function(e){return e.data}))},T=function(e,t){return t?N.post("follow/".concat(e)).then((function(e){return e.data})):N.delete("follow/".concat(e)).then((function(e){return e.data}))},E=function(){return N.get("auth/me").then((function(e){return e.data}))},F=function(e,t,n){return N.post("auth/login",{email:e,password:t,rememberMe:n}).then((function(e){return e.data}))},D=function(){return N.delete("auth/login").then((function(e){return e.data}))},k=function(e){return N.get("profile/".concat(e)).then((function(e){return e.data}))},A=function(e){return N.get("profile/status/".concat(e)).then((function(e){return e.data}))},U=function(e){return N.put("profile/status",{status:e}).then((function(e){return e.data}))},z="profile/ADD_POST",q="profile/SET_PROFILE",L="profile/SET_STATUS",G="profile/TOGGLE_FETCHING",W="profile/tDELETE_POST",M={postsData:[{id:1,avatar:"https://sun9-38.userapi.com/impg/3qV6CsDQFrvAyuxIjVaS0byAvupKqPeoedq9rA/vh5FmTbwXqI.jpg?size=1077x1080&quality=96&sign=2d6c44aac83eff97da8a839437f223e5&type=album",text:"I know that my redemeer lives and that in the end he will stand up on the Earth"},{id:2,avatar:"https://sun9-60.userapi.com/impg/S26Ob2ZUtOe969MNMNA-YfTkvBEPX4rCLM2ppQ/9h9QPrUTWOc.jpg?size=1080x1035&quality=96&sign=0315f01c9fda4ba66c5ffdc1df62200a&type=album",text:"And after my skeen has been destroyed, yet in my flash I will see God."},{id:3,avatar:"https://sun9-27.userapi.com/impg/c857036/v857036066/17d27d/yT-CcAdWjDs.jpg?size=620x630&quality=96&sign=4a3eb8f6659a7a18cb37e3a4790f7a67&type=album",text:"I myself will see him with my own eyes I and now another How my heart yearns within me Amen If you say how we will hound him scince the root of the troubles lives in him you should fear the sword yourself For wrath will bring punishment by the sword And them you will know that there is judment"}],profileInfoData:null,status:null,isFetching:!0},R=function(e){return{type:L,status:e}},H=function(e){return{type:G,isFetching:e}},B=n.p+"static/media/loader.6ce24c58.svg",Q=n(122),Y=n.n(Q),X=function(){return Object(b.jsx)("div",{className:Y.a.preloader,children:Object(b.jsx)("img",{src:B,alt:"loader"})})},V=n(59),K=n.n(V),Z=n.p+"static/media/topImg.c14f3116.jpg",J=n.p+"static/media/defaultAvatar.86ae5868.jpg",$=n(16),ee=n(85),te=function(e){var t=Object(a.useState)(!1),n=Object(ee.a)(t,2),r=n[0],s=n[1],i=Object(a.useState)(e.status),c=Object(ee.a)(i,2),o=c[0],u=c[1];Object(a.useEffect)((function(){u(e.status)}),[e.status]);var d=function(){r?(s(!1),e.updateStatus(o)):s(!0)};return Object(b.jsx)("div",{children:r?Object(b.jsx)("input",{type:"text",autoFocus:!0,value:o,onBlur:d,onChange:function(e){u(e.currentTarget.value)}}):Object(b.jsx)("p",{onDoubleClick:d,children:o})})},ne=function(e){return Object(b.jsxs)("div",{children:[Object(b.jsx)("div",{className:K.a.topImg,children:Object(b.jsx)("img",{src:Z,alt:"top image"})}),Object(b.jsxs)("div",{className:K.a.profile,children:[e.photos.large?Object(b.jsx)("img",{src:e.photos.large,alt:"avatar"}):Object(b.jsx)("img",{src:J,alt:"avatar"}),Object(b.jsxs)("div",{children:[Object(b.jsx)("p",{className:K.a.title,children:e.fullName}),Object(b.jsx)(te,{status:e.status,updateStatus:e.updateStatus})]})]}),Object(b.jsx)("div",{children:Object(b.jsx)($.a,{text:"Logout",onClick:e.logout})})]})},re=n(82),ae=n.n(re),se=n(269),ie=n(268),ce=function(e){if(!e)return"field is required"},oe=n(86),ue=n(46),de=n.n(ue),le=function(e){var t=e.input,n=e.meta,r=(e.child,Object(oe.a)(e,["input","meta","child"])),a=n.touched&&n.error;return Object(b.jsxs)("div",{className:"".concat(de.a.formControl," ").concat(a?de.a.error:null),children:[Object(b.jsx)("textarea",Object(w.a)(Object(w.a)({},t),r)),Object(b.jsx)("span",{children:a?n.error:null})]})},fe=function(e){var t=e.input,n=e.meta,r=(e.child,Object(oe.a)(e,["input","meta","child"])),a=n.touched&&n.error;return Object(b.jsxs)("div",{className:"".concat(de.a.formControl," ").concat(a?de.a.error:null),children:[Object(b.jsx)("input",Object(w.a)(Object(w.a)({},t),r)),Object(b.jsx)("span",{children:a?n.error:null})]})},pe=(S=10,function(e){if(e&&e.length>S)return"length must be less then ".concat(S)}),je=function(e){return Object(b.jsxs)("form",{className:ae.a.newPost,onSubmit:e.handleSubmit,children:[Object(b.jsx)(se.a,{component:le,name:"postText",placeholder:"Write your post here...",validate:[ce,pe]}),Object(b.jsx)("div",{className:ae.a.buttonWrapper,children:Object(b.jsx)($.a,{text:"Create Post"})})]})},be=je=Object(ie.a)({form:"newPost"})(je),he=n(125),Oe=n.n(he),xe=function(e){return Object(b.jsxs)("div",{className:Oe.a.post,children:[Object(b.jsx)("img",{src:e.avatar}),Object(b.jsx)("p",{children:e.text})]})},ge=(n(261),function(e){var t=e.posts.map((function(e){return Object(b.jsx)(xe,{avatar:e.avatar,text:e.text})}));return t.reverse(),Object(b.jsxs)("div",{children:[Object(b.jsx)(be,{onSubmit:function(t){e.addPost(t.postText)}}),t]})}),me=Object(O.b)((function(e){return{posts:e.profile.postsData}}),{addPost:function(e){return{type:z,text:e}}})(ge),ve=function(e){return Object(b.jsxs)("div",{children:[Object(b.jsx)(ne,Object(w.a)(Object(w.a)({},e.profileInfo),{},{status:e.status,updateStatus:e.updateStatus,logout:e.logout})),Object(b.jsx)(me,{})]})},Ie=function(e){return Object(O.b)((function(e){return{isAuth:e.auth.isAuth}}))((function(t){return t.isAuth?Object(b.jsx)(e,Object(w.a)({},t)):Object(b.jsx)(x.a,{to:"/login"})}))},we=n(8),ye={id:null,email:null,login:null,isAuth:!1},_e=function(e,t,n){return{type:"auth/SET_USER",data:{id:e,email:t,login:n}}},Se=function(){return function(){var e=Object(v.a)(m.a.mark((function e(t){var n,a,s,i,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E();case 2:(n=e.sent).resultCode===r.Success&&(a=n.data,s=a.id,i=a.email,c=a.login,t(_e(s,i,c)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Ne=Object(we.d)(Object(O.b)((function(e){return{profileInfo:e.profile.profileInfoData,status:e.profile.status,isFetching:e.profile.isFetching,id:e.auth.id}}),{getProfile:function(e){return function(){var t=Object(v.a)(m.a.mark((function t(n){var r;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(H(!0)),t.next=3,k(e);case 3:r=t.sent,n({type:q,profileInfo:r}),n(H(!1));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},getStatus:function(e){return function(){var t=Object(v.a)(m.a.mark((function t(n){var r;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,A(e);case 2:r=t.sent,n(R(r));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},updateStatus:function(e){return function(){var t=Object(v.a)(m.a.mark((function t(n){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,U(e);case 2:n(R(e));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},logout:function(){return function(){var e=Object(v.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D();case 2:e.sent.resultCode===r.Success&&t({type:"auth/UNSET_USER"});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}),x.f,Ie)((function(e){return Object(a.useEffect)((function(){var t=e.match.params.id;t||(t=e.id),e.getStatus(t),e.getProfile(t)}),[e.match.params.id,e.id]),Object(b.jsx)(b.Fragment,{children:e.isFetching?Object(b.jsx)(X,{}):Object(b.jsx)(ve,{profileInfo:e.profileInfo,status:e.status,updateStatus:e.updateStatus,logout:e.logout})})})),Ce=(n(262),function(){return Object(b.jsx)("div",{children:"News here"})}),Pe=(n(263),function(){return Object(b.jsx)("div",{children:"Music here"})}),Te=(n(264),function(){return Object(b.jsx)("div",{children:"Settings here"})}),Ee=n(126),Fe=n.n(Ee),De=function(e){return Object(b.jsxs)("div",{className:Fe.a.friend,children:[Object(b.jsx)("img",{src:e.avatar,alt:"avatar"}),Object(b.jsxs)("p",{children:[e.firstName," ",e.surname]})]})},ke=(n(265),function(e){var t=e.state.friendsData.map((function(e){return Object(b.jsx)(De,{firstName:e.firstName,surname:e.surname,avatar:e.avatar})}));return Object(b.jsx)("div",{children:t})}),Ae=n(61),Ue=n.n(Ae),ze=n.p+"static/media/logo.6ce24c58.svg",qe=function(e){return Object(b.jsxs)("header",{children:[Object(b.jsx)("div",{className:Ue.a.logo,children:Object(b.jsx)("img",{src:ze,alt:"logo"})}),Object(b.jsx)("div",{className:Ue.a.title,children:Object(b.jsx)("p",{children:"Unlimited React Works"})}),Object(b.jsx)("div",{className:Ue.a.login,children:e.isAuth?Object(b.jsx)("div",{children:e.login}):Object(b.jsx)(f.b,{to:"/login",children:"Login"})})]})},Le=function(e){Object(d.a)(n,e);var t=Object(l.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(b.jsx)(qe,Object(w.a)({},this.props))}}]),n}(a.Component),Ge=Object(O.b)((function(e){return{isAuth:e.auth.isAuth,login:e.auth.login}}),{auth:Se})(Le),We=(n(266),function(e){var t=e.handleSubmit;return Object(b.jsxs)("form",{onSubmit:t,children:[Object(b.jsx)("div",{children:Object(b.jsx)(se.a,{type:"text",placeholder:"login",name:"login",component:fe,validate:[ce]})}),Object(b.jsx)("div",{children:Object(b.jsx)(se.a,{type:"text",placeholder:"password",name:"password",component:fe,validate:[ce]})}),Object(b.jsxs)("div",{children:[Object(b.jsx)(se.a,{type:"checkbox",name:"rememberMe",component:"input"}),"remember me"]}),Object(b.jsx)("div",{children:Object(b.jsx)($.a,{text:"Login"})})]})});We=Object(ie.a)({form:"login"})(We);var Me,Re=function(e){return e.isAuth?Object(b.jsx)(x.a,{to:"/profile"}):Object(b.jsx)(We,{onSubmit:function(t){e.login(t.login,t.password,t.rememberMe)}})},He=Re=Object(O.b)((function(e){return{isAuth:e.auth.isAuth}}),{login:function(e,t,n){return function(){var a=Object(v.a)(m.a.mark((function a(s){return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,F(e,t,n);case 2:a.sent.resultCode===r.Success&&s(Se());case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}})(Re),Be="app/SET_INITIALIZED",Qe={initialized:!1},Ye=n(127),Xe=n(119),Ve={friendsData:[{id:1,firstName:"Saber",surname:"Pendragon",avatar:"https://sun9-38.userapi.com/impg/3qV6CsDQFrvAyuxIjVaS0byAvupKqPeoedq9rA/vh5FmTbwXqI.jpg?size=1077x1080&quality=96&sign=2d6c44aac83eff97da8a839437f223e5&type=album"},{id:2,firstName:"Reechka",surname:"Ayanami",avatar:"https://sun9-60.userapi.com/impg/S26Ob2ZUtOe969MNMNA-YfTkvBEPX4rCLM2ppQ/9h9QPrUTWOc.jpg?size=1080x1035&quality=96&sign=0315f01c9fda4ba66c5ffdc1df62200a&type=album"},{id:3,firstName:"Gats",surname:"Gats",avatar:"https://sun9-27.userapi.com/impg/c857036/v857036066/17d27d/yT-CcAdWjDs.jpg?size=620x630&quality=96&sign=4a3eb8f6659a7a18cb37e3a4790f7a67&type=album"},{id:4,firstName:"Archer",surname:"Emiya",avatar:"https://sun9-68.userapi.com/impg/12EYl0H74Hwiw95LDIs7HfrcsBva63QR2xf3aw/laaW_OYil8I.jpg?size=627x564&quality=96&sign=66c38dbd91ea9d142994527ecfeb7d29&type=album"},{id:5,firstName:"Kaworu",surname:"Nagisa",avatar:"https://sun9-46.userapi.com/impf/_43O2WhGHD4dliGJDBcN1Dux9S_WdBsNCeXEGQ/ZOFx1FsBQV0.jpg?size=500x500&quality=96&sign=408e9ffa797e0b951fd90645bc0f8950&type=album"}]},Ke="users/SET_USERS",Ze="users/TOGGLE_FOLLOWING",Je="users/SET_CURRENT_PAGE",$e="users/SET_TOTAL_USERS_COUNT",et="users/WRITE_FIND_TEXT",tt="TOGGLE_FETCHING",nt="users/TOGGLE_FOLLOWING_PROGRESS",rt={usersData:[],pageSize:10,totalUsersCount:0,currentPage:1,findText:"",isFetching:!1,followingInProgress:[]},at=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ke:return Object(w.a)(Object(w.a)({},e),{},{usersData:t.usersData});case Ze:return Object(w.a)(Object(w.a)({},e),{},{usersData:e.usersData.map((function(e){return e.id===t.userId?Object(w.a)(Object(w.a)({},e),{},{followed:t.followed}):Object(w.a)({},e)}))});case Je:return Object(w.a)(Object(w.a)({},e),{},{currentPage:t.pageNumber});case $e:return Object(w.a)(Object(w.a)({},e),{},{totalUsersCount:t.count});case tt:return Object(w.a)(Object(w.a)({},e),{},{isFetching:t.isFetching});case et:return Object(w.a)(Object(w.a)({},e),{},{findText:t.text});case nt:return Object(w.a)(Object(w.a)({},e),{},{followingInProgress:t.isFollowing?[].concat(Object(I.a)(e.followingInProgress),[t.id]):e.followingInProgress.filter((function(e){return e!==t.id}))});default:return e}},st=function(e){return{type:Ke,usersData:e}},it=function(e){return{type:Je,pageNumber:e}},ct=function(e){return{type:$e,count:e}},ot=function(e){return{type:tt,isFetching:e}},ut=function(e,t){return{type:nt,isFollowing:e,id:t}},dt=function(e){return{type:et,text:e}},lt=n(270),ft=Object(we.c)({app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Be:return Object(w.a)(Object(w.a)({},e),{},{initialized:!0});default:return e}},profile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case z:return Object(w.a)(Object(w.a)({},e),{},{postsData:[].concat(Object(I.a)(e.postsData),[{id:4,avatar:"https://sun9-68.userapi.com/impg/12EYl0H74Hwiw95LDIs7HfrcsBva63QR2xf3aw/laaW_OYil8I.jpg?size=627x564&quality=96&sign=66c38dbd91ea9d142994527ecfeb7d29&type=album",text:t.text}]),newPostText:""});case q:return Object(w.a)(Object(w.a)({},e),{},{profileInfoData:t.profileInfo});case L:return Object(w.a)(Object(w.a)({},e),{},{status:t.status});case G:return Object(w.a)(Object(w.a)({},e),{},{isFetching:t.isFetching});case W:return Object(w.a)(Object(w.a)({},e),{},{postsData:e.postsData.filter((function(e){return e.id!=t.postId}))});default:return e}},dialogs:Xe.a,users:at,friends:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ve,t=arguments.length>1?arguments[1]:void 0;return t.type,e},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ye,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"auth/SET_USER":return Object(w.a)(Object(w.a)(Object(w.a)({},e),t.data),{},{isAuth:!0});case"auth/UNSET_USER":return Object(w.a)(Object(w.a)({},e),{},{id:null,email:null,login:null,isAuth:!1});default:return e}},form:lt.a}),pt=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||we.d,jt=Object(we.e)(ft,pt(Object(we.a)(Ye.a))),bt=n(47),ht=n.n(bt),Ot=n(128),xt=n(129),gt=function(e){var t=e.pagesCount,n=e.currentPage,r=e.changePage,a=(xt.a.span(Me||(Me=Object(Ot.a)(["\n      margin: 0 3px;\n      cursor: pointer;\n      .current {\n        font-weight: 700;\n      }\n    "]))),[1,"..."]);if(n<=3&&a.pop(),n<5&&a.push(2,3,4),n>t-5&&a.push(t-3,t-2,t-1),n>=5&&n<=t-5)for(var s=n-2;s<=n+2;s++)a.push(s);return n<t-2&&a.push("..."),a.push(t),Object(b.jsxs)("div",{children:[Object(b.jsx)($.a,{onClick:function(){return r(n-1)},text:"<"}),a.map((function(e){return Object(b.jsx)("styledSpan",{className:n===e&&"current",onClick:function(){return r(e)},children:e})})),Object(b.jsx)($.a,{onClick:function(){return r(n+1)},text:">"})]})},mt=function(e){var t=e.currentPage,n=e.pagesCount,r=e.usersData,a=e.followingInProgress,s=e.toggleFollowing,i=e.findText,c=e.writeFindText,o=e.find,u=e.changePage,d=[1,"..."];if(t<=3&&d.pop(),t<5&&d.push(2,3,4),t>n-5&&d.push(n-3,n-2,n-1),t>=5&&t<=n-5)for(var l=t-2;l<=t+2;l++)d.push(l);t<n-2&&d.push("..."),d.push(n);var p=r.map((function(e){return Object(b.jsxs)("div",{className:ht.a.user,children:[Object(b.jsxs)("div",{children:[Object(b.jsx)(f.b,{to:"/profile/".concat(e.id),children:Object(b.jsx)("img",{src:e.photos.large?e.photos.large:J,alt:"avatar"})}),e.followed?Object(b.jsx)($.a,{disabled:a.some((function(t){return t===e.id})),onClick:function(){s(e.id,!1)},text:"Unfollow"}):Object(b.jsx)($.a,{disabled:a.some((function(t){return t===e.id})),onClick:function(){s(e.id,!0)},text:"Follow"})]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("p",{children:e.name}),Object(b.jsx)("p",{className:ht.a.status,children:e.status?e.status:"default status"})]})]})}));return Object(b.jsxs)("div",{className:ht.a.users,children:[Object(b.jsxs)("div",{children:[Object(b.jsx)("input",{value:i,onChange:function(e){return c(e.target.value)},placeholder:"Search..."}),Object(b.jsx)($.a,{onClick:o,text:"Find"})]}),Object(b.jsx)("div",{className:ht.a.nav,children:Object(b.jsx)(gt,{currentPage:t,pagesCount:n,changePage:u})}),p]})},vt=n(133),It=Object(vt.a)((function(e){return e.users.usersData}),(function(e){return e.filter((function(e){return!0}))})),wt=function(e){return e.users.pageSize},yt=function(e){return e.users.totalUsersCount},_t=function(e){return e.users.currentPage},St=function(e){return e.users.findText},Nt=function(e){return e.users.isFetching},Ct=function(e){return e.users.followingInProgress},Pt=function(e){Object(d.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(o.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).componentDidMount=function(){e.props.getUsers(e.props.pageSize,e.props.currentPage)},e.changePage=function(t){t>=1&&t<=e.pagesCount&&e.props.getUsers(e.props.pageSize,t)},e.find=function(){e.props.findText&&e.props.find(e.props.pageSize,e.props.findText)},e}return Object(u.a)(n,[{key:"render",value:function(){return this.pagesCount=Math.ceil(this.props.totalUsersCount/this.props.pageSize),Object(b.jsxs)("div",{children:[" ",this.props.isFetching?Object(b.jsx)(X,{}):Object(b.jsx)(mt,{usersData:this.props.usersData,totalUsersCount:this.props.totalUsersCount,pageSize:this.props.pageSize,pagesCount:this.pagesCount,currentPage:this.props.currentPage,followingInProgress:this.props.followingInProgress,findText:this.props.findText,toggleFollowing:this.props.toggleFollowing,changePage:this.changePage,writeFindText:this.props.writeFindText,find:this.find,toggleFollowingProgress:this.props.toggleFollowingProgress})]})}}]),n}(a.Component),Tt=Object(we.d)(Object(O.b)((function(e){return{usersData:It(e),pageSize:wt(e),totalUsersCount:yt(e),currentPage:_t(e),findText:St(e),isFetching:Nt(e),followingInProgress:Ct(e)}}),{setUsers:st,setCurrentPage:it,setTotalUsersCount:ct,toggleFetching:ot,writeFindText:dt,toggleFollowingProgress:ut,getUsers:function(e,t){return function(){var n=Object(v.a)(m.a.mark((function n(r){var a;return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(ot(!0)),r(it(t)),n.next=4,C(e,t);case 4:a=n.sent,r(st(a.items)),r(ct(a.totalCount)),r(ot(!1));case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},find:function(e,t){return function(){var n=Object(v.a)(m.a.mark((function n(r){var a;return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(ot(!0)),r(it(1)),n.next=4,P(e,t);case 4:a=n.sent,r(st(a.items)),r(ct(a.totalCount)),r(ot(!1)),r(dt(""));case 9:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},toggleFollowing:function(e,t){return function(){var n=Object(v.a)(m.a.mark((function n(a){return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a(ut(!0,e)),n.next=3,T(e,t);case 3:n.sent.resultCode===r.Success&&(a({type:Ze,userId:e,followed:t}),a(ut(!1,e)));case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}}),Ie)(Pt),Et=function(e){return function(t){return Object(b.jsx)(a.Suspense,{fallback:Object(b.jsx)(X,{}),children:Object(b.jsx)(e,Object(w.a)({},t))})}},Ft=s.a.lazy((function(){return n.e(3).then(n.bind(null,277))})),Dt=function(e){Object(d.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(o.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).componentDidMount=function(){e.props.initiailzeApp()},e}return Object(u.a)(n,[{key:"render",value:function(){var e=this;return this.props.initialized?Object(b.jsxs)("div",{className:"wrapper",children:[Object(b.jsx)(Ge,{}),Object(b.jsx)(h,{}),Object(b.jsxs)("main",{children:[Object(b.jsx)(x.b,{path:"/profile/:id?",render:function(){return Object(b.jsx)(Ne,{})}}),Object(b.jsx)(x.b,{path:"/dialogs",render:Et((function(){return Object(b.jsx)(Ft,{state:e.props.state.dialogs,dispatch:e.props.dispatch})}))}),Object(b.jsx)(x.b,{path:"/users",render:function(){return Object(b.jsx)(Tt,{})}}),Object(b.jsx)(x.b,{path:"/news",render:function(){return Object(b.jsx)(Ce,{})}}),Object(b.jsx)(x.b,{path:"/friends",render:function(){return Object(b.jsx)(ke,{state:e.props.state.friends})}}),Object(b.jsx)(x.b,{path:"/music",render:function(){return Object(b.jsx)(Pe,{})}}),Object(b.jsx)(x.b,{path:"/settings",render:function(){return Object(b.jsx)(Te,{})}}),Object(b.jsx)(x.b,{path:"/login",render:function(){return Object(b.jsx)(He,{})}})]})]}):Object(b.jsx)(X,{})}}]),n}(a.Component),kt=Object(we.d)(x.f,Object(O.b)((function(e){return{initialized:e.app.initialized}}),{initiailzeApp:function(){return function(e){var t=e(Se());Promise.all([t]).then((function(){e({type:Be})}))}}}))(Dt),At=function(){return Object(b.jsx)(s.a.StrictMode,{children:Object(b.jsx)(f.a,{children:Object(b.jsx)(O.a,{store:jt,children:Object(b.jsx)(kt,{state:jt.getState(),dispatch:jt.dispatch.bind(jt)})})})})};c.a.render(Object(b.jsx)(At,{}),document.getElementById("root"))},28:function(e,t,n){e.exports={active:"Nav_active__2Uqzb"}},46:function(e,t,n){e.exports={formControl:"FormControls_formControl__14S0d",error:"FormControls_error__1at_v"}},47:function(e,t,n){e.exports={user:"Users_user__3zIhh",status:"Users_status__baCSw",nav:"Users_nav__rkIdD",users:"Users_users__3c9jd"}},59:function(e,t,n){e.exports={profile:"ProfileInfo_profile__ZUz0T",topImg:"ProfileInfo_topImg__2cF-9",title:"ProfileInfo_title__2Ki8p",status:"ProfileInfo_status__2en78"}},61:function(e,t,n){e.exports={title:"Header_title__1eWAM",logo:"Header_logo__1Yra5",login:"Header_login__xoLnL",rotate:"Header_rotate__5dG48"}},82:function(e,t,n){e.exports={newPost:"NewPost_newPost__1FhWB",buttonWrapper:"NewPost_buttonWrapper__W2eTx"}}},[[267,1,2]]]);
//# sourceMappingURL=main.fab6b2c2.chunk.js.map